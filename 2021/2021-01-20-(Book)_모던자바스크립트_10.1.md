---
title: '모던 자바스크립트 - 10장 배열의 기능 개선 (1)'
categories: [TIL, JavaScript]
date: 2021-01-20 17:52:40 +0900 # 만든 시간일뿐
tags: [공부, 책, 모던 자바스크립트]
comments: true
---

# 모던 자바스크립트 - 10장 배열의 기능 개선 (1)

## **10.1** 배열 만들기
유사 배열 객체 (즉, 숫자 인덱스와 length 프로퍼티를 가지는 객체)를 배열로 변환하기 위한 선택지 또한 제한적이었다.   
이 문제를 해결하기 위해서는 추가 코드가 필요했고, ES6에서는 자바스크립트 배열을 보다 쉽게 만들수 있도록    
Array.of()와 Array.from() 메서드가 추가되었다.

</br>

### **10.1.1** Array.of() 메서드
1.  ES6에서 자바스크립트에 새로운 생성 메서드가 추가된 이유는 개발자가 Array 생성자로 배열을 만들었을 때   
    발생하는 이상 동작을 피하도록 하기 위함이다.   
    Array 생성자는 전달된 인자의 타입과 개수에 따라 다르게 동작한다.   
    ```js
    // 1) Array 생성자에 숫자 값 하나가 전달되는 경우, 배열의 length 프로퍼티는 그 값으로 결정됨!
    let items = new Array(2);
    console.log(items.length);  // 2
    console.log(items[0]);      // undefined
    console.log(items[1]);      // undefined
    // ---

    // 2) Array 생성자에 숫자가 아닌 값이 전달되는 경우, 그 값은 배열의 유일한 요소가 된다.
    items = new Array("2");
    console.log(items.length);  // 1
    console.log(items[0]);      // "2"
    // ---

    // 3) 여러 개의 값이 전달되는 경우, 그 값들은 배열의 요소가 된다.
    items = new Array(1, 2);
    console.log(items.length);  // 2
    console.log(items[0]);      // 1
    console.log(items[1]);      // 2

    items = new Array(3, "2");
    console.log(items.length);   // 2
    console.log(items[0]);       // 3
    console.log(items[1]);       // "2"
    // ---
    ```
    > ▲ 예제, 전달되는 인자의 데이터 타입을 언제나 알 수 있는 것은 아니기 때문에 이 동작은 혼란스럽고 위험!!   
2. 위 문제를 해결하기 위해 ES6에서는 `Array.of()`가 도입되었음!
* `Array.of()`메서드는 Array 생성자와 유사하게 동작하지만 **숫자 값 하나가 전달된 경우에도 특별하게 처리하지 않는다!**
* `Array.of()`메서드는 인자의 개수나 타입에 상관 없이 항상 인자를 요소로 하는 배열을 만든다.
    ```js
    // ---------------------------------------------------------------------------------
    // Array.of() 메서드를 사용하여 배열을 만들기 위해서는 배열 요소가 될 값을 전달하기만 하면 된다.
    // ---------------------------------------------------------------------------------

    // 1) 숫자 2개를 가진 배열을 만듬
    let items = Array.of(1, 2);
    console.log(items.length);  // 2
    console.log(items[0]);      // 1
    console.log(items[1]);      // 2
    // ---

    // 2) 숫자 1개를 가진 배열을 만듬
    items = Array.of(2);
    console.log(items.length);  // 1
    console.log(items[0]);      // 2
    // ---

    // 3) 문자열 1개를 가진 배열을 만듬
    items = new Array("2");
    console.log(items.length);  // 1
    console.log(items[0]);      // "2"    

    ```
    * 이 접근법은 _배열 리터럴_ 을 사용하는 것과 유사하며, 대체로 `Array.of()` 대신 배열 리터럴을 사용할 수 있다.   
        그러나 Array 생성자를 함수에 전달할  필요가 있다면, 일관된 동작을 보장하기 위해 `Array.of()`를 대신 전달하는 것이 좋음
        ```js
        function createArray(arrayCreator, value) {
            return arrayCreater(value);
        }
        let items = createArray(Array.of, value);        
        ```
        >   createArray의 첫번째 인자는 Array.of()를 전달할 수 있다.   
        >   value가 숫자가 아니라는 것을 보장할 수 없다면 Array를 전달하는 것은 위험!        
    * 추가, _배열 리터럴_ ?
        * 배열 리터럴은 0개 이상의 식(expression) 목록.       
            각 식은 배열 요소를 나타내고 대괄호([])로 묶임.
        * 배열 리터럴은 일종의 객체 이니셜라이저(initialiizer).
            ```js
            var fish = ["Lion", , "Angel"];         // length: 3. 값이 없는 부분 (,)는 자동으로 undefined로 만듬
            var myList = [ , 'home', , 'school'];   // length: 4
            ```

</br>

### **10.1.2** Array.from() 메서드
배열이 아닌 객체를 배열로 변환하는 것은 자바스크립트에서 항상 처리하기 어려운 부분이었음!   
예를 들어 유사 배열인 arguments 객체를 배열처럼 사용하길 원한다면 먼저 배열로 변환해야 함.   
ES5에서는 다음과 같이 함수를 작성해서 사용해야 했음.
```js
function makeArray(arrayLike) {
    var result = [];

    for (var i = 0; len = arrayLike.length; i < len; i++) {
        result.push(arrayLike[i]);
    }

    return result;
}

function doSomething() {
    var args = makeArray(arguments);
    // args 변수 사용. (arguments 변환됨.)
}
```
                
<hr/>

### **추가 참고 링크**
- [자바스크립트 배열 리터럴](https://itmore.tistory.com/entry/자바스크립트-배열-리터럴)


